<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Futuristic — Portfolio (Updated)</title>
  <style>
    /* ------------------------------
       Design tokens (cleaned & consistent)
       ------------------------------ */
    :root{
      /* light theme tokens */
      --bg: #ffffff;
      --surface: rgba(0,0,0,0.02);
      --text: #0a0a0a;
      --muted: #575757;
      --accent: #000000;
      --accent-anim: #00e6ff;
      --glass: rgba(0,0,0,0.04);
      --glass-strong: rgba(0,0,0,0.06);
      --card: rgba(255,255,255,0.9);
      --shadow: 0 6px 24px rgba(0,0,0,0.08);
      --radius: 14px;
      --gap: clamp(12px, 2vw, 28px);
      --bleed: 32px;
      --max-width: 1200px;
      --nav-height: 72px;
      --glass-border: rgba(0,0,0,0.06);
      --social-bg: rgba(0,0,0,0.06);
      --link-anim-start: rgba(0,0,0,0.06);
      --link-anim-end: rgba(0,0,0,0.12);

      /* header */
      --header-bg: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.95));
      --header-border: rgba(0,0,0,0.06);

      /* hero */
      --hero-brightness: 1;
      --hero-overlay-start: rgba(255,255,255,0.02);
      --hero-overlay-end: rgba(255,255,255,0.02);
      --hero-text-shadow: none;
    }

    /* dark theme */
    [data-theme="dark"]{
      --bg: #050505;
      --surface: rgba(255,255,255,0.03);
      --text: #ffffff;
      --muted: #bdbdbd;
      --accent: #ffffff;
      --accent-anim: #00e6ff;
      --glass: rgba(255,255,255,0.03);
      --glass-strong: rgba(255,255,255,0.06);
      --card: #0b0b0b;
      --shadow: 0 8px 30px rgba(0,0,0,0.6);
      --glass-border: rgba(255,255,255,0.04);
      --social-bg: rgba(0,0,0,0.65);
      --header-bg: linear-gradient(180deg, rgba(0,0,0,0.22), rgba(0,0,0,0.12));
      --header-border: rgba(255,255,255,0.04);
      --hero-brightness: 0.42;
      --hero-overlay-start: rgba(0,0,0,0.35);
      --hero-overlay-end: rgba(0,0,0,0.45);
      --hero-text-shadow: 0 1px 0 rgba(0,0,0,0.25);
    }

    @media (prefers-color-scheme: dark){
      :root:not([data-theme]){ --bg: #050505; --text:#f8f8f8; --accent:#fff }
    }

    /* ------------------------------
       Base & layout
       ------------------------------ */
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
      font-size:16px;
      transition:background .28s ease, color .28s ease;
      scroll-behavior: smooth;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    .container{max-width:var(--max-width);margin:0 auto;padding:0 20px;box-sizing:border-box}

    .skip-link{position:absolute;left:8px;top:8px;background:#000;color:#fff;padding:8px 12px;border-radius:6px;z-index:120;transform:translateY(-120%);transition:transform .18s ease;}
    .skip-link:focus{transform:translateY(0%);}    

    /* Header / Nav */
    header{
      position:fixed;left:0;right:0;top:0;height:var(--nav-height);display:flex;align-items:center;z-index:100;
      backdrop-filter: blur(8px) saturate(120%);
      background: var(--header-bg);
      border-bottom:1px solid var(--header-border);
      padding:0 20px;
      transition:background .28s ease, color .25s ease, border .25s ease;
      box-shadow: 0 6px 20px rgba(0,0,0,0.04);
    }
    header .container{display:flex;align-items:center;width:100%}

    .brand{font-weight:700;letter-spacing:0.03em;font-size:clamp(18px,1.6vw,22px);display:flex;align-items:center;gap:12px}
    .brand .logo{
      width:40px;height:40px;border-radius:8px;display:grid;place-items:center;font-weight:800;
      background:linear-gradient(180deg, rgba(0,0,0,0.06), rgba(0,0,0,0.02));
      border:1px solid var(--glass-border); color:var(--text);
    }

    nav{margin-left:auto;display:flex;align-items:center;gap:18px}
    .nav-links{display:flex;gap:24px;align-items:center}
    .nav-links a{
      color:var(--text);
      text-decoration:none;
      padding:10px 12px;
      border-radius:10px;
      font-weight:700;
      position:relative;
      transition:color .18s ease, transform .12s ease;
      letter-spacing:0.01em;
      font-size:15px;
    }
    .nav-links a:focus{ outline: 3px solid rgba(0,0,0,0.08); outline-offset:4px; }

    .nav-links a::after{
      content:"";
      position:absolute;
      left:6px;right:6px;bottom:6px;height:3px;border-radius:6px;
      background: linear-gradient(120deg, var(--link-anim-start), var(--link-anim-end), var(--link-anim-start));
      opacity:0;
      transform: translateY(6px) scaleX(0.9);
      transition: opacity .28s ease, transform .36s cubic-bezier(.2,.9,.2,1);
      will-change: transform, opacity;
      background-size: 200% 100%;
    }

    .nav-links a:hover::after,
    .nav-links a:focus::after{
      opacity:1;
      transform: translateY(0) scaleX(1);
      animation: shimmer 1s linear infinite;
    }

    @keyframes shimmer{ 0%{ background-position: 0% 50%;} 100%{ background-position: 200% 50%;} }

    .nav-links a:hover{ transform: translateY(-2px); }

    .nav-links a.active{ color:var(--accent-anim); }
    .nav-links a.active::after{
      opacity:1; transform: translateY(0) scaleX(1);
      background: linear-gradient(90deg, var(--accent-anim), #8ab4ff, #ffffff);
      animation: activeGradient 2.8s linear infinite;
    }
    @keyframes activeGradient{ 0%{ background-position:0% 50%; } 100%{ background-position:200% 50%; } }

    .actions{display:flex;align-items:center;gap:10px;margin-left:12px}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:8px 12px;border-radius:10px;border:1px solid var(--glass-border);background:transparent;font-weight:600;cursor:pointer;color:var(--text)}
    .btn:focus{outline:2px solid rgba(0,0,0,0.06);outline-offset:2px}

    /* Hamburger */
    .hamburger{display:none;border:0;background:transparent;padding:8px;border-radius:8px;cursor:pointer}
    .hamburger svg{display:block}
    .hamburger:focus{outline:3px solid rgba(0,0,0,0.08);outline-offset:3px}

    #themeToggle{
      width:44px;height:44px;border-radius:10px;display:grid;place-items:center;border:1px solid var(--glass-border);
      background:var(--glass-strong); color:var(--text); cursor:pointer;
      transition: transform .12s ease, box-shadow .12s ease, background .18s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.04);
      padding:0;
    }

    /* ------------------------------
       Hero / Home
       ------------------------------ */
    .hero{
      min-height:100vh;padding-top:var(--nav-height);display:flex;flex-direction:column;align-items:flex-start;position:relative;overflow:hidden;
      background: none;
    }
    .hero::before{
      content:"";
      position:absolute;inset:0;
      background-image: url('assets/bg.jpg');
      background-size:cover;background-position:center center;background-repeat:no-repeat;
      z-index:1;
      filter: grayscale(100%) contrast(1.06) brightness(var(--hero-brightness)) saturate(0.2);
      transition: filter .35s ease, opacity .35s ease, transform .35s ease;
    }
    .hero .overlay{position:absolute;inset:0;z-index:2;pointer-events:none}
    .hero .overlay{ background: linear-gradient(180deg, var(--hero-overlay-start), var(--hero-overlay-end)); }
    .hero .content{position:relative;z-index:3;padding:70px 0}
    .hero .kicker{font-size:13px;letter-spacing:0.28em;text-transform:uppercase;color:var(--muted);margin-bottom:12px}
    .hero h1{font-size:clamp(34px,6vw,68px);margin:0;line-height:0.92;letter-spacing:-0.02em;text-shadow:var(--hero-text-shadow)}
    .hero p{max-width:720px;font-size:clamp(16px,1.2vw,18px);color:var(--muted);margin-top:12px}
    .actions{margin-top:20px}
    .primary{background:transparent;border:1px solid var(--accent);padding:12px 18px;border-radius:12px;font-weight:700;color:var(--text);text-decoration:none;display:inline-block}
    .secondary{background:transparent;border:1px dashed var(--glass-border);padding:10px 16px;border-radius:10px;color:var(--text);text-decoration:none}

    /* ------------------------------
       Content style
       ------------------------------ */
    main{display:block;margin-top:20px}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:20px}
    .col-6{grid-column:span 6}
    .card{background:var(--card);border-radius:12px;padding:20px;border:1px solid var(--glass-border);box-shadow:var(--shadow)}

    .projects-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px}
    .project{padding:18px;border-radius:12px;border:1px solid var(--glass-border);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));}
    .project h3{margin:0 0 8px 0}
    .project p{margin:0;color:var(--muted)}

    .contact-form{display:grid;gap:12px}
    .input,textarea{padding:12px;border-radius:10px;border:1px solid var(--glass-border);background:transparent;color:var(--text)}
    textarea{min-height:120px}

    /* Floating social (positioned within home only) */
    .social-fixed{position:absolute;right:20px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:14px;z-index:55}
    .social-fixed a{
      display:inline-grid;place-items:center;
      width:64px;height:64px;border-radius:14px;border:1px solid rgba(0,0,0,0.06);
      background:var(--social-bg);text-decoration:none;
      color:var(--text);
      transition: transform .18s ease, box-shadow .18s ease, background .25s, color .25s ease;
      box-shadow: 0 6px 18px rgba(0,0,0,0.05);
    }
    .social-fixed a:hover{ transform: translateY(-8px); box-shadow: 0 18px 40px rgba(0,0,0,0.08); }
    .social-fixed svg{ width:28px;height:28px; display:block; stroke:currentColor; fill:currentColor; }

    section.section{ padding: 80px 0; }
    [data-theme="light"] section.section{ background: #f7f7f7; color: #0a0a0a; }
    [data-theme="light"] section.section .card{ background:#fff; color:#0a0a0a; border-color: rgba(0,0,0,0.06); box-shadow: 0 6px 20px rgba(0,0,0,0.04); }
    #home.section{ background: none; }

    /* ------------------------------
       Mobile adjustments
       ------------------------------ */
    @media (max-width:900px){
      .nav-links{display:none}
      .hamburger{display:inline-flex}
      header{padding:0 14px}
      .social-fixed{position:relative;right:auto;top:auto;transform:none;display:flex;flex-direction:row;gap:12px;justify-content:center;margin:14px 0 6px;z-index:3}
      .social-fixed a{width:48px;height:48px;border-radius:10px}
      .hero h1{font-size:clamp(28px,7vw,44px)}
      .hero .container { z-index:4; position:relative; padding-bottom:28px; }
      .brand .text{display:none} /* conserve header space on tiny screens */
    }

    /* Mobile nav overlay (top sheet) */
    .mobile-nav{position:fixed;inset:0;display:flex;align-items:flex-start;justify-content:center;z-index:120;pointer-events:none}
    .mobile-nav .backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.35);opacity:0;transition:opacity .22s ease;pointer-events:none}
    .mobile-nav.open .backdrop{opacity:1;pointer-events:auto}
    .mobile-nav .sheet{
      width:100%;max-width:760px;margin:12px;border-radius:12px;background:var(--card);border:1px solid var(--glass-border);transform:translateY(-6%);opacity:0;transition:transform .28s cubic-bezier(.2,.9,.25,1),opacity .28s ease;pointer-events:auto;box-shadow:0 30px 80px rgba(0,0,0,0.12);
      z-index:125;overflow:hidden;
    }
    .mobile-nav.open .sheet{ transform:translateY(0); opacity:1 }
    .mobile-nav .panel{padding:20px}
    .mobile-nav .close-tab{display:flex;justify-content:flex-end}
    .mobile-nav .close-btn{background:transparent;border:0;padding:8px;border-radius:8px;cursor:pointer;font-size:26px;line-height:1;color:var(--text)}
    .mobile-nav[aria-hidden="true"]{pointer-events:none}
    .mobile-nav[aria-hidden="false"]{pointer-events:auto}
    .mobile-nav a{display:block;padding:12px 0;font-weight:700;text-decoration:none;color:var(--text);font-size:18px}

    .mobile-socials{display:flex;gap:12px;justify-content:center;margin-top:12px}
    .mobile-socials a{width:46px;height:46px;border-radius:10px;display:grid;place-items:center;background:var(--social-bg);color:var(--text);text-decoration:none;border:1px solid rgba(0,0,0,0.04)}

    /* small polish */
    footer{padding:24px 0;color:var(--muted)}
    .visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;border:0;padding:0;margin:-1px}
    @media (prefers-reduced-motion: reduce){*{transition:none !important}}
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header role="banner">
    <div class="container">
      <div class="brand" aria-hidden="false" style="gap:10px">
        <div class="logo" aria-hidden="true">FB</div>
        <div class="text">Futuristic — Abhinand</div>
      </div>

      <nav role="navigation" aria-label="Main navigation">
        <div class="nav-links" id="navLinks">
          <a href="#home">Home</a>
          <a href="#about">About</a>
          <a href="#projects">Projects</a>
          <a href="#contact">Contact</a>
        </div>
      </nav>

      <div class="actions" aria-hidden="false">
        <button class="btn" id="themeToggle" aria-pressed="false" title="Toggle dark / light mode" aria-label="Toggle theme" ></button>

        <!-- Hamburger for mobile -->
        <button class="hamburger" id="hamburgerBtn" aria-label="Open menu" aria-controls="mobileNav" aria-expanded="false" title="Open menu">
          <!-- three bars morph into X using CSS-free JS toggle of different svgs -->
          <svg id="hamburgerIcon" width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <!-- Mobile nav overlay (top sheet) -->
  <div class="mobile-nav" id="mobileNav" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Mobile navigation">
    <div class="backdrop" id="mobileBackdrop" tabindex="-1"></div>
    <div class="sheet" role="document" aria-labelledby="mobileNavLabel">
      <div class="panel">
        <div class="close-tab">
          <button class="close-btn" id="mobileCloseBtn" aria-label="Close menu" title="Close menu">&times;</button>
        </div>
        <nav aria-label="Mobile links">
          <a href="#home" data-close>Home</a>
          <a href="#about" data-close>About</a>
          <a href="#projects" data-close>Projects</a>
          <a href="#contact" data-close>Contact</a>
        </nav>

        <div style="height:12px"></div>
        <div class="mobile-socials" aria-hidden="false">
          <a href="#" aria-label="Instagram">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" aria-hidden="true"><rect x="3" y="3" width="18" height="18" rx="5" stroke="currentColor" stroke-width="1.4" fill="none"/><path d="M12 8.5A3.5 3.5 0 1 0 12 15.5 3.5 3.5 0 0 0 12 8.5z" stroke="currentColor" stroke-width="1.4" fill="none"/><circle cx="17.7" cy="6.3" r="0.7" fill="currentColor"/></svg>
          </a>
          <a href="#" aria-label="GitHub">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" aria-hidden="true"><path d="M12 2C7.6 2 4 5.6 4 10c0 3.5 2.3 6.4 5.5 7.4.4.1.6-.2.6-.5v-1.7c-2.2.5-2.6-1-2.6-1-.3-.8-.8-1.0-1.6-1.2-.5-.1-.3-.9.1-.9.6 0 1 .6 1.1.9.6 1.1 1.6.8 2 .6.1-.5.3-.8.6-1-1.8-.2-3.6-.9-3.6-4 0-.9.3-1.6.8-2.1-.1-.2-.4-1 .1-2.1 0 0 .7-.2 2.2.8A7.6 7.6 0 0 1 12 7.6c.7 0 1.4.1 2 .2 1.5-1 2.2-.8 2.2-.8.5 1.1.2 1.9.1 2.1.5.5.8 1.2.8 2.1 0 3.1-1.8 3.7-3.6 3.9.3.3.6.8.6 1.6v2.3c0 .3.2.7.6.5A8 8 0 0 0 20 10c0-4.4-3.6-8-8-8z" stroke="currentColor" stroke-width="0.8" fill="none"/></svg>
          </a>
          <a href="#" aria-label="LinkedIn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" aria-hidden="true"><rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.2" fill="none"/><path d="M8.5 10.5v5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/><circle cx="8.5" cy="8" r=".6" fill="currentColor"/><path d="M12.2 15.5v-3c0-.9.7-1.6 1.6-1.6s1.6.7 1.6 1.6v3" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/></svg>
          </a>
          <a href="mailto:your.email@example.com" aria-label="Email">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" aria-hidden="true"><rect x="2.5" y="4.5" width="19" height="15" rx="2" stroke="currentColor" stroke-width="1.2" fill="none"/><path d="M4.5 7.5l7 5 7-5" stroke="currentColor" stroke-width="1.2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- ================= HERO / HOME ================= -->
  <section class="hero" id="home" aria-label="Home section">
    <div class="social-fixed" aria-hidden="false">
      <a href="https://instagram.com" title="Instagram (opens in new tab)" aria-label="Instagram" target="_blank" rel="noopener"><svg viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" role="img"><rect x="3" y="3" width="18" height="18" rx="5" stroke="currentColor" stroke-width="1.3" fill="none" /><path d="M12 8.6a3.4 3.4 0 1 0 0 6.8 3.4 3.4 0 0 0 0-6.8z" stroke="currentColor" stroke-width="1.3" fill="none"/><circle cx="17.7" cy="6.3" r="0.6" fill="currentColor"/></svg></a>
      <a href="https://github.com" title="GitHub (opens in new tab)" aria-label="GitHub" target="_blank" rel="noopener"><svg viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M12 2C7.58 2 4 5.58 4 10c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38v-1.35c-2.22.48-2.69-1.05-2.69-1.05-.36-.92-.88-1.17-.88-1.17-.72-.5.05-.49.05-.49.8.06 1.22.82 1.22.82.71 1.21 1.86.86 2.31.66.07-.52.28-.86.5-1.06-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.58.82-2.13-.08-.2-.36-1 .08-2.12 0 0 .67-.22 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.52-1.04 2.19-.82 2.19-.82.44 1.1.16 1.92.08 2.12.51.55.82 1.26.82 2.13 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48v2.2c0 .21.15.46.55.38A8.01 8.01 0 0 0 20 10c0-4.42-3.58-8-8-8z" fill="currentColor"/></svg></a>
      <a href="https://linkedin.com" title="LinkedIn (opens in new tab)" aria-label="LinkedIn" target="_blank" rel="noopener"><svg viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" role="img"><rect x="3" y="3" width="18" height="18" rx="2" fill="none" stroke="currentColor" stroke-width="1.2"/><path d="M8.5 10.8v5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/><circle cx="8.5" cy="8.2" r="0.6" fill="currentColor"/><path d="M12.2 15.8v-3c0-.95.77-1.72 1.72-1.72s1.72.77 1.72 1.72v3" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/></svg></a>
      <a href="mailto:your.email@example.com" title="Email" aria-label="Email"><svg viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" role="img"><rect x="2.5" y="4.5" width="19" height="15" rx="2" stroke="currentColor" stroke-width="1.2" fill="none"/><path d="M4.5 7.5l7 5 7-5" stroke="currentColor" stroke-width="1.2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg></a>
    </div>

    <div class="overlay" aria-hidden="true"></div>
    <div class="container content">
      <div style="max-width:980px">
        <div class="kicker">Designer • Developer • Futurist</div>
        <h1>Designing minimal, futuristic experiences<br/><span style="opacity:.9">— in black &amp; white</span></h1>
        <p>I'm Abhinand — I craft clean, high-contrast user interfaces with micro-interactions and thoughtful accessibility. This template uses a transparent header, responsive hamburger navigation, and a persistent dark/light toggle.</p>
        <div class="actions" style="margin-top:18px">
          <a class="primary" href="#projects">See Projects</a>
          <a class="secondary" href="#contact">Get In Touch</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ================= MAIN CONTENT ================= -->
  <main id="main">
    <section class="section" id="about" aria-label="About section">
      <div class="container">
        <div class="grid" style="grid-template-columns:repeat(12,1fr);gap:18px">
          <div class="col-6" style="grid-column:span 6">
            <div class="card">
              <h2>About me</h2>
              <p style="color:var(--muted)">A short intro about your design philosophy and technical chops. Mention frameworks, tools, or industries you specialize in. Keep this concise and punchy — use bullets if needed.</p>
              <ul style="color:var(--muted);margin-top:12px">
                <li>UI/UX design systems</li>
                <li>Modern frontend (HTML, CSS, JavaScript)</li>
                <li>Accessibility & performance-first</li>
              </ul>
            </div>
          </div>
          <div class="col-6" style="grid-column:span 6">
            <div class="card">
              <h3>Skills</h3>
              <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
                <span class="btn">HTML</span>
                <span class="btn">CSS</span>
                <span class="btn">JavaScript</span>
                <span class="btn">React</span>
                <span class="btn">Figma</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="projects" aria-label="Projects">
      <div class="container">
        <h2>Projects</h2>
        <div class="projects-grid" style="margin-top:16px">
          <article class="project"><h3>Project One</h3><p>Short description. Tech used: HTML, CSS, JS.</p></article>
          <article class="project"><h3>Project Two</h3><p>Short description. Interactive prototype.</p></article>
          <article class="project"><h3>Project Three</h3><p>Short description. Accessibility-first.</p></article>
        </div>
      </div>
    </section>

    <section class="section" id="contact" aria-label="Contact">
      <div class="container">
        <div style="max-width:720px;margin:0 auto">
          <h2>Contact</h2>
          <p style="color:var(--muted)">Interested in working together? Send a quick message.</p>
          <form class="contact-form" onsubmit="event.preventDefault(); alert('Demo: form submitted — wire up your backend');">
            <input class="input" type="text" placeholder="Your name" required />
            <input class="input" type="email" placeholder="Email" required />
            <textarea placeholder="Message" class="input"></textarea>
            <div style="display:flex;gap:12px;margin-top:8px">
              <button class="primary" type="submit">Send</button>
              <button class="secondary" type="button" onclick="location.href='#home'">Back</button>
            </div>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <small>&copy; <span id="year"></span> Abhinand — Built with care.</small>
    </div>
  </footer>

  <script>
    // ---------- small helpers ----------
    const $ = sel => document.querySelector(sel);
    const $$ = sel => Array.from(document.querySelectorAll(sel));

    // Initialize year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Theme toggle (persist, respects system if not set)
    const root = document.documentElement;
    const THEME_KEY = 'fw_theme_mode';
    const themeToggle = document.getElementById('themeToggle');
    const header = document.querySelector('header');
    const hero = document.getElementById('home');

    const sunSvg = '<svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4" /><path d="M12 2v2M12 20v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M2 12h2M20 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"/></svg>';
    const moonSvg = '<svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.8A9 9 0 1 1 11.2 3 7 7 0 0 0 21 12.8z"/></svg>';

    function updateToggleUI(theme){
      themeToggle.innerHTML = theme === 'dark' ? moonSvg : sunSvg;
      themeToggle.setAttribute('aria-pressed', theme === 'dark');
      themeToggle.title = theme === 'dark' ? 'Dark mode active — switch to light' : 'Light mode active — switch to dark';
      themeToggle.setAttribute('aria-label', theme === 'dark' ? 'Dark mode' : 'Light mode');
      themeToggle.style.color = getComputedStyle(root).getPropertyValue('--text');
      themeToggle.style.background = getComputedStyle(root).getPropertyValue('--glass-strong');
    }

    function updateHeaderContrast(){
      const theme = root.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
      if(theme === 'light' && !heroVisible) header.classList.add('light-outside-hero');
      else header.classList.remove('light-outside-hero');

      // header adjustments for light theme when outside hero
      if(header.classList.contains('light-outside-hero')){
        header.style.background = 'linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96))';
        header.style.borderBottomColor = 'rgba(0,0,0,0.06)';
        // make nav links darker
        $$('.nav-links a').forEach(a => a.style.color = '#0a0a0a');
        $$('.btn').forEach(b => b.style.color = '#0a0a0a');
        $('#themeToggle').style.borderColor = 'rgba(0,0,0,0.06)';
      } else {
        header.style.background = '';
        header.style.borderBottomColor = '';
        $$('.nav-links a').forEach(a => a.style.color = '');
        $$('.btn').forEach(b => b.style.color = '');
        $('#themeToggle').style.borderColor = '';
      }
    }

    function applyTheme(theme){
      if(theme === 'dark') root.setAttribute('data-theme','dark');
      else root.setAttribute('data-theme','light');
      updateToggleUI(theme);
      $$('.social-fixed a').forEach(a=> a.style.color = '');
      $$('.nav-links a, .btn, .primary, .secondary').forEach(el=> el.style.color = '');
      updateHeaderContrast();
    }

    (function(){
      const saved = localStorage.getItem(THEME_KEY);
      if(saved) applyTheme(saved);
      else {
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        applyTheme(prefersDark ? 'dark' : 'light');
      }
    })();

    const mq = window.matchMedia('(prefers-color-scheme: dark)');
    mq.addEventListener?.('change', (e)=>{
      const saved = localStorage.getItem(THEME_KEY);
      if(!saved) applyTheme(e.matches ? 'dark' : 'light');
    });

    themeToggle.addEventListener('click', ()=>{
      const current = root.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
      const next = current === 'dark' ? 'light' : 'dark';
      applyTheme(next);
      localStorage.setItem(THEME_KEY, next);
    });
    themeToggle.addEventListener('keyup', (e)=>{ if(e.key === 'Enter' || e.key === ' ') themeToggle.click(); });

    // ---------- hero visibility = toggle header contrast ----------
    let heroVisible = true;
    const heroObserver = new IntersectionObserver((entries)=>{
      entries.forEach(entry => {
        heroVisible = entry.isIntersecting;
        updateHeaderContrast();
      });
    }, { threshold: 0.25 });

    if(hero) heroObserver.observe(hero);

    // ---------- Mobile nav + hamburger (improved, accessible) ----------
    const mobileNav = document.getElementById('mobileNav');
    const mobileBackdrop = document.getElementById('mobileBackdrop');
    const hamburgerBtn = document.getElementById('hamburgerBtn');
    const mobileCloseBtn = document.getElementById('mobileCloseBtn');
    const firstFocusableSelector = 'a, button, input, textarea, [tabindex]:not([tabindex="-1"])';
    let lastFocusedBeforeOpen = null;

    function setHamburgerIcon(open){
      const svg = document.getElementById('hamburgerIcon');
      if(!svg) return;
      if(open){
        // simple X icon
        svg.innerHTML = '<path d="M6 6L18 18M6 18L18 6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>';
      } else {
        svg.innerHTML = '<path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path>';
      }
    }

    function openMobile(){
      lastFocusedBeforeOpen = document.activeElement;
      mobileNav.classList.add('open');
      mobileNav.setAttribute('aria-hidden','false');
      hamburgerBtn.setAttribute('aria-expanded','true');
      document.documentElement.style.overflow = 'hidden';
      document.body.style.overflow = 'hidden';
      setHamburgerIcon(true);

      // set focus to first focusable in sheet
      const sheet = mobileNav.querySelector('.sheet');
      const first = sheet.querySelector(firstFocusableSelector);
      if(first) first.focus();

      // trap focus
      document.addEventListener('focus', enforceFocus, true);
    }
    function closeMobile(){
      mobileNav.classList.remove('open');
      mobileNav.setAttribute('aria-hidden','true');
      hamburgerBtn.setAttribute('aria-expanded','false');
      document.documentElement.style.overflow = '';
      document.body.style.overflow = '';
      setHamburgerIcon(false);

      // restore focus to the button that opened the menu (or previous)
      if(lastFocusedBeforeOpen) lastFocusedBeforeOpen.focus();

      document.removeEventListener('focus', enforceFocus, true);
    }

    function enforceFocus(e){
      if(mobileNav.getAttribute('aria-hidden') === 'true') return;
      const sheet = mobileNav.querySelector('.sheet');
      if(!sheet.contains(e.target)){
        e.stopPropagation();
        sheet.querySelector(firstFocusableSelector)?.focus();
      }
    }

    hamburgerBtn.addEventListener('click', ()=>{
      if(mobileNav.classList.contains('open')) closeMobile();
      else openMobile();
    });

    mobileCloseBtn?.addEventListener('click', closeMobile);
    mobileBackdrop?.addEventListener('click', closeMobile);

    // close when clicking a nav link
    mobileNav.querySelectorAll('[data-close]').forEach(el=>el.addEventListener('click', closeMobile));
    // close on resize > 900
    window.addEventListener('resize', ()=>{ if(window.innerWidth > 900 && mobileNav.classList.contains('open')) closeMobile(); });
    // close on Escape
    window.addEventListener('keydown', (e) => { if(e.key === 'Escape' && mobileNav.classList.contains('open')) closeMobile(); });

    // ---------- Smooth scroll & scrollspy ----------
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', function(e){
        const href = this.getAttribute('href');
        if(!href || href === '#') return;
        const target = document.querySelector(href);
        if(target){
          e.preventDefault();
          // close mobile if open
          if(mobileNav.classList.contains('open')) closeMobile();
          // scroll with offset for fixed header
          const top = target.getBoundingClientRect().top + window.scrollY - (parseInt(getComputedStyle(document.documentElement).getPropertyValue('--nav-height')) || 72) + 8;
          window.scrollTo({top, behavior:'smooth'});
        }
      });
    });

    (function(){
      const sections = Array.from(document.querySelectorAll('section[id]'));
      const navLinks = Array.from(document.querySelectorAll('.nav-links a'));
      const linkMap = navLinks.reduce((acc, a) => { acc[a.getAttribute('href')] = a; return acc; }, {});

      const observer = new IntersectionObserver((entries)=>{
        entries.forEach(entry=>{
          const id = entry.target.id ? `#${entry.target.id}` : null;
          if(entry.isIntersecting && id){
            Object.values(linkMap).forEach(l => { l.classList.remove('active'); l.removeAttribute('aria-current'); });
            const active = linkMap[id];
            if(active){ active.classList.add('active'); active.setAttribute('aria-current','true'); }
          }
        });
      }, { root: null, rootMargin: '-40% 0px -40% 0px', threshold: 0 });

      sections.forEach(s => observer.observe(s));
    })();

    // ---------- Section snap (reliable) ----------
    (function(){
      const prefsReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if(prefsReduced) return;
      const sections = Array.from(document.querySelectorAll('section[id]'));
      if(!sections.length) return;
      let isAuto = false;
      let lastTime = 0;
      const THROTTLE = 120;

      function nearestIndex(){
        const scrollTop = window.scrollY || window.pageYOffset;
        let bestIdx = 0, bestDist = Infinity;
        sections.forEach((s,i)=>{
          const dist = Math.abs(s.getBoundingClientRect().top + window.scrollY - scrollTop);
          if(dist < bestDist){ bestDist = dist; bestIdx = i; }
        });
        return bestIdx;
      }
      function snapTo(i){
        if(i < 0) i = 0;
        if(i >= sections.length) i = sections.length-1;
        isAuto = true;
        const target = sections[i];
        const top = target.getBoundingClientRect().top + window.scrollY - (parseInt(getComputedStyle(document.documentElement).getPropertyValue('--nav-height')) || 72) + 6;
        window.scrollTo({top, behavior:'smooth'});
        clearTimeout(window._snapTimer);
        window._snapTimer = setTimeout(()=>{ isAuto=false; }, 650);
      }

      function onWheel(e){
        if(isAuto) { e.preventDefault(); return; }
        const now = Date.now();
        if(now - lastTime < THROTTLE) return;
        lastTime = now;
        const delta = e.deltaY;
        if(Math.abs(delta) < 10) return;
        e.preventDefault();
        const idx = nearestIndex();
        if(delta > 0) snapTo(idx + 1);
        else snapTo(idx - 1);
      }

      let touchStart = null;
      function onTouchStart(e){ if(e.touches && e.touches.length === 1) touchStart = e.touches[0].clientY; else touchStart = null; }
      function onTouchEnd(e){
        if(isAuto || touchStart === null) return;
        const endY = (e.changedTouches && e.changedTouches[0] && e.changedTouches[0].clientY) || null;
        if(endY === null) return;
        const diff = touchStart - endY;
        const THRESH = Math.max(40, window.innerHeight * 0.06);
        if(Math.abs(diff) < THRESH) return;
        const idx = nearestIndex();
        if(diff > 0) snapTo(idx + 1);
        else snapTo(idx - 1);
        touchStart = null;
      }

      window.addEventListener('wheel', onWheel, {passive:false});
      window.addEventListener('touchstart', onTouchStart, {passive:true});
      window.addEventListener('touchend', onTouchEnd, {passive:false});

      window.addEventListener('keydown', (e)=>{
        if(isAuto) return;
        const key = e.key;
        let idx = nearestIndex();
        if(key === 'PageDown' || key === 'ArrowDown'){ e.preventDefault(); snapTo(idx + 1); }
        else if(key === 'PageUp' || key === 'ArrowUp'){ e.preventDefault(); snapTo(idx - 1); }
        else if(key === 'Home'){ e.preventDefault(); snapTo(0); }
        else if(key === 'End'){ e.preventDefault(); snapTo(sections.length - 1); }
      });
    })();

    // initial hamburger icon
    setHamburgerIcon(false);
  </script>
</body>
</html>
