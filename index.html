<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Abhinand — Neon Portfolio</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
  --bg-dark: linear-gradient(180deg,#070707,#0d0d0d);
  --bg-light: linear-gradient(180deg,#ffffff,#f4f6f9);
  --text-dark: #e6eefc;
  --text-light: #0b1220;
  --muted-dark: #9aa6bc;
  --muted-light: #6b7280;
  --accent: #1f8eff;
  --frame-radius:26px;
  --frame-padding:18px;
  --container:1180px;
  --header-blur:6px;
  --header-h:72px;
}

/* Accessibility helper */
.sr-only { position: absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* Base */
*{box-sizing:border-box;}
body,html{margin:0;padding:0;height:100%;font-family:'Poppins',system-ui,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}
body{background:var(--bg);color:var(--text);}

/* Header */
header{
  position:fixed;top:0;left:0;right:0;height:var(--header-h);z-index:200;
  display:flex;align-items:center;justify-content:center;
  backdrop-filter:blur(var(--header-blur));
  transition:background .18s ease, box-shadow .18s ease;
}
html[data-theme="dark"] header{background: rgba(255,255,255,0.04);}
html[data-theme="light"] header{background: rgba(0,0,0,0.06);}
.header-inner{
  width:100%;max-width:var(--container);padding:0 20px;
  display:flex;align-items:center;justify-content:space-between;gap:18px;
}

/* Hamburger - improved accessibility & animation */
.hamburger{
  display:none;
  align-items:center;
  justify-content:center;
  padding:10px;
  width:48px;
  height:48px;
  border-radius:12px;
  background:transparent;
  border:0;
  cursor:pointer;
  color:var(--text);
  transition:transform .12s ease, box-shadow .12s ease;
}
.hamburger:focus{ outline: none; box-shadow: 0 6px 20px rgba(0,0,0,0.18); transform: translateY(-2px); }
.hamburger .lines{
  width:26px; height:18px; position:relative; display:block;
}
.hamburger .lines span{
  position:absolute; left:0; right:0; height:3px; border-radius:3px; background:currentColor; display:block; transition: transform .22s ease, opacity .18s ease, top .22s ease;
}
.hamburger .lines span:nth-child(1){ top:0; }
.hamburger .lines span:nth-child(2){ top:7.5px; }
.hamburger .lines span:nth-child(3){ top:15px; }

/* open => X */
.hamburger[aria-expanded="true"] .lines span:nth-child(1){ transform: translateY(7.5px) rotate(45deg); top:7.5px; }
.hamburger[aria-expanded="true"] .lines span:nth-child(2){ opacity:0; transform:scaleX(0); }
.hamburger[aria-expanded="true"] .lines span:nth-child(3){ transform: translateY(-7.5px) rotate(-45deg); top:7.5px; }

/* Navigation */
nav{display:flex;gap:18px;align-items:center;}
nav a{
  position:relative;color:var(--muted-dark);text-decoration:none;
  padding:8px;border-radius:8px;font-weight:700;transition:color .18s;
}
nav a.active, nav a:hover{color:var(--accent);}
nav a::after{
  content:"";position:absolute;left:12px;right:12px;bottom:6px;height:2px;background:transparent;transform:scaleX(0);transform-origin:left;transition:transform .22s ease,background .22s ease;border-radius:2px;
}
nav a.active::after{background:var(--accent);transform:scaleX(1);}

/* Theme button */
.theme-btn{
  display:inline-flex;gap:12px;align-items:center;padding:8px 12px;border-radius:12px;border:1px solid rgba(255,255,255,0.12);
  background:transparent;color:var(--text);cursor:pointer;font-weight:700;font-size:14px;min-width:56px;justify-content:center;
}
.theme-btn .icon{display:none;width:34px;height:34px;}
html[data-theme="dark"] .theme-btn .icon-moon{display:block;}
html[data-theme="light"] .theme-btn .icon-sun{display:block;}
.theme-btn:active{transform:translateY(1px);}
.theme-btn:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(0,0,0,0.06);}

/* Hero */
main{height:100vh;scroll-snap-type:y mandatory;scroll-behavior:smooth;overflow-y:auto;}
section{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:120px 20px;scroll-snap-align:start;}
.hero-inner{display:flex;gap:56px;align-items:center;justify-content:space-between;max-width:var(--container);width:100%;}
/* left column */
.left{flex:1;max-width:640px;}
.eyebrow{color:var(--accent);font-size:13px;letter-spacing:0.22em;text-transform:uppercase;font-weight:800;margin-bottom:18px;}
h1{font-family:'Playfair Display';font-size:68px;line-height:0.9;margin:0 0 10px;font-weight:900;}
.underline{width:420px;height:4px;background:linear-gradient(90deg,var(--accent),#1fb3ff);border-radius:2px;margin:16px 0 24px;}
p.lead{color:var(--muted-dark);max-width:540px;margin:0;}
.cta{display:flex;gap:14px;margin-top:32px;}
.btn{display:inline-flex;align-items:center;gap:10px;padding:12px 18px;border-radius:10px;font-weight:800;text-decoration:none;cursor:pointer;border:2px solid rgba(255,255,255,0.06);transition:transform .12s,box-shadow .12s,opacity .12s;}
.btn.primary{background: linear-gradient(90deg,var(--accent), #1fb3ff); color:#fff;text-transform:uppercase;box-shadow:0 18px 48px rgba(29,110,255,0.14);}
.btn.ghost {
  background: transparent;
  color: var(--text);
  border: 3px solid transparent; /* make border visible */
  border-image: linear-gradient(90deg, #007bff, #ffffff, #ff69b4) 1;
}

.btn:hover{transform:translateY(-3px);opacity:0.98;}

/* Neon frame image (no shine) */
.right { flex: 0 0 560px; position: relative; }
.neon-frame { display: inline-block; border-radius: 16px; padding: 3px; background: conic-gradient(from 0deg, #fff, #34e6ff, #ff59d0, #fff); box-shadow: none; -webkit-mask: none; mask: none; overflow: hidden; }
.neon-image { display: block; width: 100%; height: 440px; object-fit: cover; border-radius: 13px; filter: none; box-shadow: none; }

/* Social row default (desktop inside container) */
.social-row {
  position: absolute;
  left: calc(50% - 27px);
  transform: translateX(-50%);
  top: 28px;
  z-index: 6;
  display: flex;
  gap: 20px;
  pointer-events: auto;
}

/* class applied when moved out to body for fixed mobile */
.social-row.fixed-mobile {
  position: fixed !important;
  top: calc(var(--header-h) + 8px) !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  width: min(96%, 420px);
  justify-content: space-between;
  gap: 12px;
  z-index: 105 !important;
  background: transparent;
  padding: 6px 8px;
  box-shadow: none;
}

/* Social tile */
.social-square {
  display: inline-grid;
  place-items: center;
  width: 64px;
  height: 64px;
  border-radius: 14px;
  padding: 3px;
  background: linear-gradient(135deg, #1fb3ff, #ffffff);
  cursor: pointer;
  text-decoration: none;
  transition: transform 200ms ease, box-shadow 200ms ease;
  overflow: hidden;
}
.social-square .icon-bg { width: 100%; height: 100%; border-radius: 11px; display: grid; place-items: center; background: var(--bg); color: var(--text); transition: color 200ms ease; }
.social-square svg { width: 28px;height: 28px;fill:currentColor;stroke:currentColor;stroke-width:1.6;display:block;pointer-events:none; }
.social-square:hover { transform: translateY(-6px) scale(1.06); box-shadow: 0 6px 18px rgba(31, 179, 255, 0.15); }
.social-square:hover .icon-bg { color: #1fb3ff; }
.social-square:active .icon-bg { color: #0d8adf; transform: scale(0.96); }
.social-square:focus { outline: none; box-shadow: 0 0 0 3px rgba(31, 179, 255, 0.3); }

/* HIDE mobile menu by default (prevents unwanted links under header on desktop) */
.mobile-menu { display: none; }

/* Mobile baseline tweaks */
@media (max-width: 520px) {
 /* Mobile social row above image */
.social-row.mobile-above {
  position: relative !important;
  left: auto !important;
  transform: none !important;
  top: auto !important;
  margin-bottom: 16px; /* increase space below social row */
  justify-content: center;
  gap: 20px; /* more space between icons */
}

  .social-square { width: 54px; height: 54px; padding: 2px; border-radius: 12px; }
  .social-square .icon-bg { border-radius: 9px; }
  .social-square svg { width: 24px; height: 24px; }

.social-row.mobile-above {
  position: relative !important;
  left: auto !important;
  transform: none !important;
  top: auto !important;
  margin-bottom: 16px; /* space below row */
  display: flex;
  justify-content: space-around; /* space evenly across width */
  width: 100%; /* match neon-image width */
  max-width: 420px; /* same as neon-frame max width */
  gap: 24px; /* spacing between icons */
  margin-left: auto;
  margin-right: auto;
}

}

/* Dark / Light icon visibility */
html[data-theme="dark"] .icon-moon { display:inline-block; font-size:1.5rem; }
html[data-theme="dark"] .icon-sun { display:none; }
html[data-theme="light"] .icon-moon { display:none; }
html[data-theme="light"] .icon-sun { display:inline-block; font-size:1.5rem; }

/* Tablet / responsive */
@media (max-width:1100px){.hero-inner{gap:28px}.right{flex:0 0 420px}.neon-image{height:360px;} }
@media (max-width:860px){.hero-inner{flex-direction:column-reverse;align-items:center}.left{text-align:center} h1{font-size:48px;} nav{display:none;}}

/* ========== MOBILE-SPECIFIC LAYOUT (ONLY below 520px) ========== */
@media (max-width:520px){
  /* show hamburger at left, theme at right */
  .hamburger{display:inline-flex;order:0;}
  .theme-btn{order:2;margin-left:auto;}
  .header-inner{padding:0 14px;align-items:center;}
  nav{display:none !important;}

  /* mobile menu overlay: hidden by default, shown only on mobile and when .show present */
  .mobile-menu{
    position:fixed;
    inset:var(--header-h) 12px auto 12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));
    backdrop-filter: blur(8px);
    border-radius:12px;
    padding:12px;
    display:none;
    flex-direction:column;
    gap:10px;
    z-index:110;
  }
  .mobile-menu.show{display:flex;}
  .mobile-menu a{padding:12px;border-radius:10px;text-decoration:none;color:var(--text);font-weight:700;border:1px solid rgba(255,255,255,0.03);background:transparent;}
  .mobile-menu a:hover{background:rgba(255,255,255,0.02);color:var(--accent);}

  /* SOCIAL ROW: fallback style — but JS will move it to just above the neon-frame on mobile */
  .social-row{
    /* kept intentionally lightweight here — JS handles the placement */
  }

  /* enlarge icons on mobile and spacing */
  .social-square { width: 68px; height: 68px; }
  .social-square .icon-bg { border-radius:12px; }
  .social-square svg { width:28px; height:28px; }

  /* make neon frame sit below fixed social row */
  /* Make image move closer to top on mobile */
@media (max-width:520px){
  .neon-frame {
    width: 100%;
    max-width: 420px;
    padding: 3px;
    margin-top: 0; /* remove extra top space */
  }

  .hero-inner {
    padding-top: 0; /* move entire content up */
  }
}


  /* fluid image */
  .right{flex-basis:100%;display:flex;flex-direction:column;align-items:center;order:1;width:100%;}
  .neon-image{height:auto;max-width:100%;border-radius:11px;object-fit:cover;}

  /* center text & buttons, reduce sizes to fit */
  .hero-inner{flex-direction:column;align-items:center;gap:12px;padding-top:12px;}
  .left{order:2;text-align:center;width:100%;max-width:620px;padding:6px 14px;}
  .eyebrow{font-size:11px;margin-bottom:10px;}
 h1 {
  font-size: 34px;
  line-height: 1.02;
  margin: 0 0 6px;
  white-space: nowrap;   /* keep text in one line */
}

  .underline{width:200px;margin:8px auto 12px;height:4px;}
  p.lead{padding:0 6px;color:var(--muted);max-width:100%;}
  .cta{justify-content:center;flex-wrap:wrap;padding-bottom:16px;gap:10px;}
  .btn {
  min-width: 130px;
  text-align: center;
  font-size: 14px;
  padding: 10px 14px;
  margin-top: -0.2cm; /* moves button 0.2 cm up */
}
  .btn.primary{padding:10px 14px;}
  .btn.ghost{padding:10px 14px;}

  /* reduce overall section padding on small phones to avoid overflow */
  section{padding:86px 10px;}
}

/* Theme variables */
html[data-theme="dark"]{--bg:var(--bg-dark);--text:var(--text-dark);--muted:var(--muted-dark);}
html[data-theme="light"]{--bg:var(--bg-light);--text:var(--text-light);--muted:var(--muted-light);}
</style>
</head>

<body>
<header>
  <div class="header-inner">
    <!-- Hamburger (mobile only) -->
    <button class="hamburger" id="hamburger" aria-label="Open menu" aria-expanded="false" aria-controls="mobileMenu">
      <span class="sr-only">Toggle main menu</span>
      <span class="lines" aria-hidden="true">
        <span></span><span></span><span></span>
      </span>
    </button>

    <nav>
      <a href="#home" data-target="home" class="nav-link active">HOME</a>
      <a href="#about" data-target="about" class="nav-link">ABOUT</a>
      <a href="#projects" data-target="works" class="nav-link">PROJECTS</a>
      <a href="#contact" data-target="contact" class="nav-link">CONTACT</a>
    </nav>

    <!-- Modern theme toggle -->
    <button id="themeBtn" class="theme-btn" aria-label="Toggle theme" aria-pressed="false">
      <span class="toggle-bg" aria-hidden="true">
        <i class="fa-solid fa-moon icon-moon"></i>
        <i class="fa-solid fa-sun icon-sun"></i>
      </span>
    </button>
  </div>
</header>

<!-- Mobile menu (hidden on desktop by default) -->
<div id="mobileMenu" class="mobile-menu" aria-hidden="true">
  <a href="#home" data-target="home" class="mobile-link">HOME</a>
  <a href="#about" data-target="about" class="mobile-link">ABOUT</a>
  <a href="#projects" data-target="works" class="mobile-link">PROJECTS</a>
  <a href="#contact" data-target="contact" class="mobile-link">CONTACT</a>
</div>

<main>
<section id="home">
  <div class="hero-inner">
    <div class="left">
      <div class="eyebrow">HELLO</div>
      <h1>I'm Abhinand Babu</h1>
      <div class="underline"></div>
      <p class="lead">B.Tech Computer Science Engineer with a strong foundation in software development and web technologies.</p>
      <div class="cta">
        <a class="btn primary" href="#about">MORE ABOUT ME</a>
        <a class="btn ghost" href="#contact" id="ctaContact">GET IN TOUCH</a>
      </div>
    </div>

    <div class="right">
      <div class="neon-frame">
        <!-- Social row (desktop: inside frame). On mobile JS will move it to just above the neon-frame (not fixed). -->
        <div class="social-row" role="navigation" aria-label="Social links">
          <a class="social-square" href="mailto:abhinandbabu2502@gmail.com" title="Email" aria-label="Email">
            <span class="icon-bg">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 4.2l-8 4.8-8-4.8V6l8 4.8L20 6v2.2z"/></svg>
            </span>
          </a>

          <a class="social-square" href="https://github.com/Abhinand2502" target="_blank" rel="noopener" title="GitHub" aria-label="GitHub">
            <span class="icon-bg">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 0.5C5.73.5.75 5.49.75 11.76c0 4.85 3.14 8.96 7.5 10.42.55.1.75-.24.75-.53v-1.86c-3.05.66-3.7-1.4-3.7-1.4-.5-1.26-1.22-1.6-1.22-1.6-.99-.68.08-.67.08-.67 1.1.08 1.68 1.13 1.68 1.13.97 1.66 2.54 1.18 3.16.9.1-.7.38-1.18.69-1.45-2.43-.28-4.98-1.22-4.98-5.44 0-1.2.43-2.18 1.13-2.95-.11-.28-.49-1.42.11-2.96 0 0 .92-.3 3.02 1.13a10.5 10.5 0 0 1 5.5 0c2.09-1.43 3.01-1.13 3.01-1.13.61 1.54.23 2.68.11 2.96.7.77 1.13 1.75 1.13 2.95 0 4.23-2.56 5.16-4.99 5.43.39.34.73 1.01.73 2.04v3.02c0 .3.2.64.76.53 4.36-1.46 7.5-5.57 7.5-10.42C23.25 5.49 18.27.5 12 .5z"/></svg>
            </span>
          </a>

          <a class="social-square" href="https://linkedin.com/in/abhinand-babu-153b66324" target="_blank" rel="noopener" title="LinkedIn" aria-label="LinkedIn">
            <span class="icon-bg">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4.98 3.5C3.88 3.5 3 4.38 3 5.48c0 1.1.88 1.98 1.98 1.98h.02C6.07 7.46 7 6.58 7 5.48 7 4.38 6.07 3.5 4.98 3.5zM3.5 8.98h3v11.52h-3V8.98zM9.5 8.98h2.88v1.57h.04c.4-.76 1.37-1.57 2.82-1.57 3.01 0 3.57 1.98 3.57 4.55v6.97h-3V14.9c0-1.52-.03-3.47-2.12-3.47-2.12 0-2.44 1.65-2.44 3.36v6.18h-3V8.98z"/></svg>
            </span>
          </a>

          <a class="social-square" href="https://instagram.com/_abhinand_babu" target="_blank" rel="noopener" title="Instagram" aria-label="Instagram">
            <span class="icon-bg">
              <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <rect x="2.2" y="2.2" width="19.6" height="19.6" rx="5.2" ry="5.2" fill="none" />
                <circle cx="12" cy="12" r="3.7" />
                <circle cx="17.5" cy="6.2" r="0.95" />
              </svg>
            </span>
          </a>
        </div>

        <img class="neon-image" src="assets/bg.jpg" alt="Portrait">
      </div>
    </div>
  </div>
</section>






<!-- sections -->
<section id="about"><div style="max-width:var(--container);padding:60px 20px"><h2 style="font-family:Playfair Display;color:var(--text)">About</h2><p style="color:var(--muted-dark)">About content here.</p></div></section>





<!-- ===== WORKS: updated — lightbox uses data-lightbox separately from thumbnails ===== -->
<section id="works" aria-labelledby="worksTitle">
  <style>
    :root{
      --glass-strong: rgba(0,0,0,0.08);
      --primary:#2a7cf1;
      --text:#111;
      --muted:#7a7a7a;
      --header-h:72px; /* adjust to your header height */
      --card-radius:12px;
      --thumb-interval: 1800ms;
      --card-bg: #ffffff; /* card / small UI background */
    }

    /* container */
    #works { padding-top: calc(var(--header-h) + 10px); padding-bottom: 48px; background: transparent; position: relative; z-index: 1; }
    #works > .section-inner { height:auto !important; min-height:0 !important; display:block !important; padding-top:0 !important; }
    #works .box { width:100%; max-width:1400px; margin:0 auto; padding:24px; box-sizing:border-box; }

    /* SEARCH - stronger black border and modern style */
    .search-wrap { margin: 8px 0 18px; display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .search-left { display:flex; gap:10px; align-items:center; flex:1; min-width:220px; }
    .search-input {
      flex:1;
      padding:12px 14px 12px 40px;
      border-radius:12px;
      border:2px solid #000;            /* stronger black border per request */
      font-size:14px;
      box-sizing:border-box;
      outline:none;
      background: var(--card-bg);
      color: var(--text);
      box-shadow: 0 6px 18px rgba(38,57,90,0.03);
      transition: box-shadow .12s ease, transform .09s ease, border-color .12s ease;
      position:relative;
    }
    .search-input::placeholder { color: var(--muted); }
    .search-input:focus { box-shadow: 0 12px 30px rgba(42,124,241,0.06); transform: translateY(-1px); border-color: rgba(0,0,0,0.9); }
    .search-icon { position:relative; left:34px; margin-right: -34px; pointer-events:none; opacity:.9; font-weight:700; color:var(--muted); font-size:14px; }
    .search-actions { display:flex; gap:8px; align-items:center; }
    .search-clear { padding:8px 12px; border-radius:10px; border:1px solid var(--glass-strong); background:transparent; cursor:pointer; font-weight:800; font-size:13px; color:var(--text); }
    /* Dark mode border override for search-clear */
body.dark .search-clear,
html.dark .search-clear,
.dark-mode .search-clear,
.theme-dark .search-clear,
[data-theme="dark"] .search-clear {
  border-color: #ffffff !important; /* white border in dark mode */
}

    .result-count { font-weight:700; color:var(--text); font-size:13px; white-space:nowrap; }

    /* highlight for matched text */
    .hl { background: rgba(42,124,241,0.18); padding:0 3px; border-radius:3px; color:var(--text); font-weight:800; }

    /* Grid: mobile 1, tablet/desktop 3 columns */
    .folio-grid { display:grid; gap:16px; grid-template-columns: 1fr; align-items:stretch; }
    @media (min-width:760px) { .folio-grid { grid-template-columns: repeat(3, 1fr); } }

    /* show first 6 items by default */
    .folio-grid .folio-item { display:block; }
    .folio-grid .folio-item:nth-child(n+7) { display:none; }  /* <-- show only first 6 */
    .folio-grid.expanded .folio-item { display:block; }

    /* Rectangle card */
    .folio-item { display:block; overflow:visible; border-radius:var(--card-radius); position:relative; border:1px solid var(--glass-strong); transition: transform .18s ease, box-shadow .18s ease; cursor:pointer; background:var(--card-bg); padding:0; }
    .folio-item:focus, .folio-item:hover { transform: translateY(-6px); box-shadow: 0 22px 60px rgba(16,24,40,0.10); outline:none; }

    /* thumb-wrap: rectangle 16:9 - image fills card area */
    .thumb-wrap { width:100%; aspect-ratio: 16/9; position:relative; overflow:hidden; border-radius:var(--card-radius) var(--card-radius) 8px 8px; background:#000; display:block; }
    .thumb-wrap img {
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:center;
      opacity:0;
      transform: scale(1.03) translateZ(0);
      transition: opacity .45s ease, transform .6s cubic-bezier(.2,.9,.2,1);
      backface-visibility:hidden;
      will-change: opacity, transform;
    }
    .thumb-wrap img.active { opacity:1; transform: scale(1); z-index:1; }

    /* caption overlay: title + view inside the image area (dark overlay) */
    .folio-caption { position:absolute; left:12px; bottom:12px; right:12px; padding:8px 12px; border-radius:10px; background: rgba(0,0,0,0.52); color:#fff; font-weight:900; font-size:14px; display:flex; gap:12px; align-items:center; backdrop-filter: blur(6px); z-index: 10; }
    .folio-caption .title { font-weight:900; letter-spacing:0.2px; color:#fff; flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-size:14px; }
    /* view control: pill-style, smaller on mobile, consistent across breakpoints */
    .folio-caption .view {
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:6px 10px;
      border-radius:10px;
      background: rgba(255,255,255,0.06);
      color:#fff;
      font-weight:700;
      font-size:13px;
      min-width:54px;
      height:36px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.18);
      border: 1px solid rgba(255,255,255,0.06);
    }
    @media (max-width:760px){
      .folio-caption { padding:6px 10px; bottom:8px; left:8px; right:8px; }
      .folio-caption .title { font-size:13px; }
      .folio-caption .view { padding:6px 8px; min-width:44px; height:32px; font-size:12px; }
    }

    /* removed the white meta tab – keep these gone */
    /* .folio-meta and children intentionally removed from layout */

    /* no results */
    /* replace previous .no-results rule with this */
/* ===== minimal overrides — paste at the END of your #works <style> block ===== */

/* NO RESULTS: black in light, white in dark (many dark-mode selectors covered) */
#works .no-results {
  color: #111111 !important;    /* default: black */
}

/* dark-mode variants (common patterns) */
body.dark #works .no-results,
html.dark #works .no-results,
.dark-mode #works .no-results,
.theme-dark #works .no-results,
[data-theme="dark"] #works .no-results {
  color: #ffffff !important;    /* dark mode: white */
}

/* SEARCH INPUT TEXT & PLACEHOLDER: force visible (dark on both themes) */
#works .search-input {
  color: #111111 !important;           /* typed text */
  background-clip: padding-box;        /* keep BG behavior unchanged */
}

/* placeholder (all common browsers) */
#works .search-input::placeholder { color: #666666 !important; opacity: 1 !important; }
#works .search-input::-webkit-input-placeholder { color: #666666 !important; opacity: 1 !important; }
#works .search-input:-ms-input-placeholder { color: #666666 !important; opacity: 1 !important; }
#works .search-input::-ms-input-placeholder { color: #666666 !important; opacity: 1 !important; }



/* result count (makes "Showing X of Y" readable when you force text colors) */
#works .result-count { color: #111111 !important; }

    /* Lightbox overlay (unchanged) */
    .lightbox {
      position:fixed;
      inset:0;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding-top: var(--header-h);
      z-index:3000;
      background: rgba(6,6,6,0.6);
      backdrop-filter: blur(6px);
      opacity:0;
      pointer-events:none;
      transition: opacity .22s ease;
    }
    .lightbox.open { opacity:1; pointer-events:auto; }

    /* Solid shell and meta (minor rounded corners) */
    .lb-shell {
      width: calc(100vw - 48px);
      height: calc(100vh - var(--header-h) - 48px);
      max-width:1200px;
      max-height:880px;
      border-radius:10px;
      overflow:hidden;
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:12px;
      background: #ffffff;
      border:1px solid rgba(0,0,0,0.06);
      box-shadow: 0 40px 120px rgba(2,6,23,0.25);
      margin-top:8px;
    }
    @media (max-width:980px){ .lb-shell { grid-template-columns: 1fr; width: calc(100vw - 12px); height: calc(100vh - var(--header-h) - 12px); } }

    .lb-view { position:relative; background:#111; display:flex; align-items:center; justify-content:center; overflow:hidden; min-height:320px; }
    .lb-track { display:flex; width:100%; height:100%; will-change: transform; transition: transform .55s cubic-bezier(.2,.9,.2,1); }
    .lb-slide { flex:0 0 100%; display:flex; align-items:center; justify-content:center; position:relative; height:100%; min-height:320px; padding:12px; box-sizing:border-box; }
    .lb-slide img { max-width:100%; max-height:100%; width:auto; height:auto; object-fit:contain; display:block; margin:auto; cursor:zoom-in; user-select:none; -webkit-user-drag:none; }

    .lb-close, .lb-prev, .lb-next {
      position:absolute; z-index:40; width:44px; height:44px; border-radius:10px; display:grid; place-items:center; background: rgba(0,0,0,0.6); border:1px solid rgba(255,255,255,0.06); color:#fff; font-size:18px; cursor:pointer;
      transition: transform .12s ease, opacity .12s ease;
    }
    .lb-close { right:12px; top:12px; }
    .lb-prev { left:12px; top:50%; transform:translateY(-50%); }
    .lb-next { right:12px; top:50%; transform:translateY(-50%); }

    .lb-meta { padding:18px; display:flex; flex-direction:column; gap:12px; overflow:auto; color:#111; background: #ffffff; }
    .lb-title { font-family:'Playfair Display', serif; font-size:20px; font-weight:900; margin:0; color:#111; }
    .lb-desc { color:var(--muted); font-size:13px; line-height:1.45; margin:0; min-height:48px; color:#111; }
    .lb-tech { display:flex; flex-wrap:wrap; gap:8px; margin-top:6px; align-items:center; }
    .tech-badge { display:flex; align-items:center; gap:8px; padding:6px 10px; border-radius:10px; border:1px solid var(--glass-strong); background:transparent; font-weight:700; font-size:13px; color:var(--text); }

    .btn { padding:8px 12px; border-radius:10px; font-weight:800; border:1px solid var(--glass-strong); background:transparent; cursor:pointer; font-size:13px; text-decoration:none; display:inline-block; color:var(--text); }
    .btn.primary { background:var(--primary); color:#fff; border-color:var(--primary); }

    .show-more-wrap { text-align:center; margin-top:12px; }
    .show-more { display:inline-block; padding:8px 14px; border-radius:999px; border:1px solid var(--glass-strong); background:transparent; font-weight:800; cursor:pointer; color:var(--text); }
/* Dark mode border override */
body.dark .btn,
html.dark .btn,
.dark-mode .btn,
.theme-dark .btn,
[data-theme="dark"] .btn,
body.dark .show-more,
html.dark .show-more,
.dark-mode .show-more,
.theme-dark .show-more,
[data-theme="dark"] .show-more {
  border-color: #ffffff !important; /* white border in dark mode */
}

    @media (max-width:760px){
      .folio-caption{ left:8px; bottom:8px; padding:6px 8px; font-size:12px; }
      .lb-meta{ padding:12px }
      .lb-title{ font-size:17px }
      .lb-shell { gap:8px; }
    }

    /* force ALL text inside lightbox meta to black (both themes) */
    .lightbox .lb-meta,
    .lightbox .lb-meta * {
      color: #111 !important;
    }
    .lightbox .tech-badge { color:#111 !important; border-color: rgba(0,0,0,0.06) !important; }

    /* theme toggling base (adjust if you use a body.dark class) */
    body.dark, .dark-mode {
      --text: #111;     /* you requested black text in both modes */
      --muted: #666;
      --card-bg: #0b0b0b; /* card background can be dark while text remains black */
    }

    .sr-only { position:absolute !important; width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0 }
 /* ------------------ Mobile improvements (5"–9" phones) ------------------ */
/* Paste this at the END of your #works <style> block so it overrides earlier rules */

@media (max-width: 420px) {
  /* slightly smaller header footprint on phones */
  :root { --header-h: 56px; }

  /* container spacing */
  #works { padding-top: calc(var(--header-h) + 6px); }
  .box { padding: 14px; }

  /* search: stack and resize */
  .search-wrap { gap: 8px; align-items: flex-start; }
  .search-left { flex: 1 1 100%; min-width: 0; width: 100%; display: flex; align-items: center; }
  .search-input {
    padding: 10px 12px 10px 40px; /* keep space for icon */
    font-size: 13px;
    border-radius: 10px;
  }
  .search-icon { left: 10px; margin-right: -10px; font-size: 14px; }
  .search-actions { width: 100%; display: flex; justify-content: space-between; margin-top: 8px; }
  .result-count { font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .search-clear { padding: 7px 10px; font-size: 12px; }

  /* grid/card sizing */
  .folio-grid { gap: 12px; grid-template-columns: 1fr; }
  .folio-item { border-radius: 10px; }
  .thumb-wrap { aspect-ratio: 16/9; min-height: 140px; border-radius: 10px; }
  .thumb-wrap img { will-change: opacity, transform; transform-origin: center center; }

  /* caption: allow wrapping and smaller fonts for mobile */
  .folio-caption { left: 8px; right: 8px; bottom: 8px; padding: 6px 8px; border-radius: 8px; }
  .folio-caption .title {
    white-space: normal;        /* allow multi-line title on small screens */
    font-size: 14px;
    line-height: 1.18;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .folio-caption .view { padding: 5px 8px; height: 32px; font-size: 12px; min-width: 44px; }

  /* show-more button */
  .show-more-wrap { margin-top: 10px; }
  .show-more { padding: 8px 12px; font-size: 13px; }

  /* lightbox: become fullscreen-ish with smaller chrome */
  .lightbox { padding-top: var(--header-h); }
  .lb-shell {
    width: calc(100vw - 12px);
    height: calc(100vh - var(--header-h) - 12px);
    max-width: none;
    max-height: none;
    border-radius: 8px;
    grid-template-columns: 1fr; /* stack meta under image */
    gap: 8px;
    box-shadow: 0 20px 80px rgba(2,6,23,0.28);
  }
  .lb-view { min-height: 220px; }
  .lb-prev, .lb-next, .lb-close { width: 40px; height: 40px; font-size: 15px; }
  .lb-meta { padding: 12px; max-height: 36vh; overflow: auto; }
  .lb-title { font-size: 16px; }
  .lb-desc { font-size: 13px; line-height: 1.35; }
  .lb-tech { gap: 6px; }
  .tech-badge { padding: 6px 8px; font-size: 12px; }

  /* ensure result-count is visible but compact */
  #resultCount { display: inline-block; max-width: 60%; overflow: hidden; text-overflow: ellipsis; }

  /* reduce heavy shadows on phones for performance */
  .folio-item:focus, .folio-item:hover { box-shadow: 0 10px 30px rgba(16,24,40,0.08); transform: translateY(-4px); }
}

/* optional extra compact tweaks for very small phones */
@media (max-width: 360px) {
  .thumb-wrap { min-height: 120px; }
  .folio-caption .title { font-size: 13px; -webkit-line-clamp: 3; }
  .search-input { font-size: 12px; padding-left: 38px; }
  .search-icon { left: 8px; }
  .lb-meta { max-height: 40vh; padding: 10px; }
}

 </style>

  <div class="section-inner">
    <div class="box">
      <h1 id="worksTitle" class="anim">My projects</h1>

      <div class="search-wrap" role="search" aria-label="Search projects">
        <div class="search-left">
          <span class="search-icon">🔎</span>
          <input id="folioSearch" class="search-input" type="search" placeholder="Search projects (title, description, tech)..." aria-label="Search projects" />
        </div>
        <div class="search-actions">
          <div id="resultCount" class="result-count" aria-live="polite"></div>
          <button id="folioSearchClear" class="search-clear" aria-label="Clear search">Clear</button>
        </div>
      </div>

      <p id="noResults" class="no-results">No projects found</p>
      <p class="anim">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

      <div class="folio-grid anim" id="folioGrid" aria-live="polite">
        <!-- Items: NOTE - .folio-meta removed. Only image + caption overlay remain -->
      <button class="folio-item"
  data-images="assets/THOME.png,assets/TRESULT.png,assets/TRESULT1.png"
  data-lightbox="assets/TLOGIN (1).png,assets/THOME.png,assets/TPROF.png,assets/TUPLOAD.png,assets/TRESULT.png,assets/TRESULT1.png,assets/THIST.png,assets/THIST2.png,assets/TCOM.png,assets/ALOG.png,assets/AHOME.png,assets/AUSER.png,assets/AHIST.png,assets/ACOMP.png"
  data-link="https://github.com/Abhinand2502/DetexAI"
  data-title="DetexAI"
  data-desc=" DetexAI is an AI-powered system using YOLOv8 to detect and classify trash in both land and aquatic environments, enabling real-time identification for smarter, faster cleanup."
  data-tech="⭐Python,⭐Django,⭐HTML,⭐CSS,⭐JavaScript,⭐YOLOv8,⭐SQLite">
  <span class="thumb-wrap" aria-hidden="true"></span>
  <div class="folio-caption"><span class="title">DetexAI – AI Trash Detection</span><span class="view">View details</span></div>
</button>


<button class="folio-item"
          data-images="assets/face.jpg,assets/face1.png,assets/face2.png"
          data-lightbox="assets/face.jpg,assets/face1.png,assets/face2.png,assets/face3.png,assets/face4.png,assets/face5.png,assets/face6.png"
          data-link="https://github.com/Abhinand2502/Face-recognition"
          data-title="Face recognition"
          data-desc="Face recognition Attendance Register is an automated student attendance system that uses face recognition technology to mark attendance."
          data-tech="⭐Python,⭐Django,⭐HTML,⭐CSS,⭐JavaScript">
          <span class="thumb-wrap" aria-hidden="true"></span>
          <div class="folio-caption"><span class="title">Face recognition - Attendance Register</span><span class="view">View details</span></div>
        </button>


        <button class="folio-item"
          data-images="assets/login.png,assets/signup.png,assets/home.png"
          data-lightbox="assets/login.png,assets/signup.png,assets/home.png,assets/cash.png,assets/admin.png,assets/product.png,assets/orders.png"
          data-link="https://github.com/Abhinand2502/Ai-Assist-Cart"
          data-title="AI-AssistCart"
          data-desc="AI-AssistCart is an AI-powered e-commerce platform that automates product recommendations, streamlines checkout, and provides advanced admin management tools to enhance the online shopping experience. Developed using Django, it leverages TF-IDF to deliver personalized product suggestions, making shopping faster, smarter, and more intuitive."
          data-tech="⭐Python,⭐Django,⭐HTML,⭐CSS,⭐JavaScript,⭐AJAX,⭐SQLite">
          <span class="thumb-wrap" aria-hidden="true"></span>
          <div class="folio-caption"><span class="title">AI-AssistCart - AI Shopping Site</span><span class="view">View details</span></div>
        </button>

        <button class="folio-item"
          data-images="assets/chat1 (1).png,assets/chat1 (2).png"
          data-lightbox="assets/chat1 (1).png,assets/chat1 (2).png"
          data-link="https://github.com/Abhinand2502/AiChatbot"
          data-title="AI-Chatbot"
          data-desc="An AI-powered bilingual chatbot built with Django, designed to communicate in both English and Malayalam. It uses a local dataset with fuzzy matching for quick responses, regex-based name recognition for personalization, and seamlessly integrates with Cohere’s AI model to handle complex queries with natural and intelligent replies."
          data-tech="⭐Python,⭐Django,⭐HTML,⭐CSS,⭐JavaScript,⭐Cohere API">
          <span class="thumb-wrap" aria-hidden="true"></span>
          <div class="folio-caption"><span class="title">AI-Chatbot</span><span class="view">View details</span></div>
        </button>

        <button class="folio-item"
          data-images="assets/tic (2).png,assets/tic (3).png,assets/tic (1).png"
          data-lightbox="assets/tic (2).png,assets/tic (3).png,assets/tic (1).png"
          data-link="https://github.com/Abhinand2502/tic_tac_toe"
          data-title=" Tic-Tac-Toe"
          data-desc="✨ A futuristic neon glassmorphism Tic-Tac-Toe game with real-time multiplayer using Django Channels (WebSockets). Players compete in a best-of-3 format with glowing winning tiles, smooth animations, and responsive design for desktop & mobile."
          data-tech="⭐Python,⭐Django,⭐HTML,⭐CSS,⭐JavaScript,⭐WebSockets">
          <span class="thumb-wrap" aria-hidden="true"></span>
          <div class="folio-caption"><span class="title"> Tic-Tac-Toe</span><span class="view">View details</span></div>
        </button>

        
        <button class="folio-item"
          data-images="assets/porto.png,assets/portfolio.jpg"
          data-lightbox="assets/porto.png,assets/portfolio.jpg"
          data-link="https://github.com/Abhinand2502/portofolio"
          data-title="Portfolio"
          data-desc="My personal portfolio website."
          data-tech="⭐HTML,⭐CSS,⭐JavaScript">
          <span class="thumb-wrap" aria-hidden="true"></span>
          <div class="folio-caption"><span class="title">Portfolio</span><span class="view">View details</span></div>
        </button>

        <!-- hidden ones (shown after Show more)paste  projects here -->

         <button class="folio-item"
          data-images="assets/todo.png,assets/todo.png,assets/todo.png"
          data-lightbox="assets/todo.png,assets/todo.png,assets/todo.png"
          data-link="https://github.com/Abhinand2502/to_do_app"
          data-title="To-Do List app"
          data-desc="To-Do App is a simple yet futuristic task management application designed to help users stay organized and productive. With its sleek black-themed interface and transparent panels, it combines functionality with a modern aesthetic.Users can easily add, edit, delete, and complete tasks while enjoying real-time search filtering. The app provides a minimal and futuristic experience that makes task management engaging and efficient."
          data-tech="⭐Python,⭐Django,⭐HTML,⭐CSS,⭐JavaScript">
          <span class="thumb-wrap" aria-hidden="true"></span>
          <div class="folio-caption"><span class="title">To-Do List app</span><span class="view">View details</span></div>
        </button>



        
      </div>

      <div class="show-more-wrap"><button id="showMoreBtn" class="show-more">Show more</button></div>
    </div>
  </div>

  <!-- lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="lbTitle" tabindex="-1">
    <div class="lb-shell" role="document" aria-live="polite">
      <div class="lb-view" id="lbView" aria-hidden="false">
        <div id="lbSlides" style="width:100%;height:100%;position:relative;overflow:hidden;"></div>

        <button class="lb-prev" id="lbPrev" aria-label="Previous (Left arrow)">◀</button>
        <button class="lb-next" id="lbNext" aria-label="Next (Right arrow)">▶</button>
        <button class="lb-close" id="lbClose" aria-label="Close (Esc)">✕</button>
      </div>

      <div class="lb-meta" id="lbMeta">
        <h3 id="lbTitle" class="lb-title">Title</h3>
        <p id="lbDesc" class="lb-desc">Full description here.</p>

        <div class="lb-tech" id="lbTech" aria-hidden="false"></div>

        <div class="lb-actions">
          <a id="lbLink" class="btn primary" href="#" target="_blank" rel="noopener">Open Project</a>
    
        </div>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const grid = document.getElementById('folioGrid');
      if(!grid) return;
      const items = Array.from(grid.querySelectorAll('.folio-item'));
      const lightbox = document.getElementById('lightbox');
      const lbSlides = document.getElementById('lbSlides');
      const lbTitle = document.getElementById('lbTitle');
      const lbDesc = document.getElementById('lbDesc');
      const lbTech = document.getElementById('lbTech');
      const lbLink = document.getElementById('lbLink');
      const lbClose = document.getElementById('lbClose');
      const lbPrev = document.getElementById('lbPrev');
      const lbNext = document.getElementById('lbNext');
    
      const searchInput = document.getElementById('folioSearch');
      const searchClear = document.getElementById('folioSearchClear');
      const noResults = document.getElementById('noResults');
      const showMoreBtn = document.getElementById('showMoreBtn');
      const resultCount = document.getElementById('resultCount');

      // timings (from CSS variables)
      const THUMB_INTERVAL = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--thumb-interval')) || 1800;

      // ------------ THUMBNAIL SYNCHRONIZED AUTOPLAY & caption thumbnail setup ------------
      items.forEach((it) => {
        const wrap = it.querySelector('.thumb-wrap');
        const images = (it.dataset.images || '').split(',').map(s => s.trim()).filter(Boolean);
        const imgs = images.length ? images : ['assets/bg.jpg'];

        // append image elements for thumbnail autoplay
        imgs.forEach((src, i) => {
          const img = document.createElement('img');
          img.src = src;
          img.alt = it.dataset.title || '';
          img.loading = 'lazy';
          if(i === 0) img.classList.add('active');
          wrap.appendChild(img);
        });

        // keep "View details" as a pill, NOT a bottom white tab. (No more meta block.)
        const viewEl = it.querySelector('.folio-caption .view');
        if(viewEl){
          const firstThumb = imgs[0] || '';
          if(firstThumb){
            // left in place in case you want to style the pill with the first thumb later
          }
        }

        it._thumbCount = imgs.length;
        it._thumbIndex = 0;
        it._thumbPaused = false;
        it.addEventListener('mouseenter', () => { it._thumbPaused = true; }, {passive:true});
        it.addEventListener('mouseleave', () => { it._thumbPaused = false; }, {passive:true});
        it.addEventListener('touchstart', () => { it._thumbPaused = true; }, {passive:true});
        it.addEventListener('touchend', () => { it._thumbPaused = false; }, {passive:true});
      });

      let globalThumbTick = 1;
      function thumbTick(){
        items.forEach(it => {
          if(it._thumbPaused) return;
          const count = it._thumbCount || 1;
          const newIndex = globalThumbTick % count;
          const imgs = it.querySelectorAll('.thumb-wrap img');
          imgs.forEach((img, idx) => img.classList.toggle('active', idx === newIndex));
          it._thumbIndex = newIndex;
        });
        globalThumbTick++;
      }
      let thumbTimer = setInterval(thumbTick, THUMB_INTERVAL);

      // ------------ LIGHTBOX: GPU-ACCELERATED TRACK SLIDER (NO AUTOPLAY) ------------
      let lbTrack = null;
      let lbSlidesArr = [];
      let lbCurrent = 0;
      let lastFocused = null;

      function createSlide(url, i){
        const wrapper = document.createElement('div');
        wrapper.className = 'lb-slide';
        wrapper.dataset.index = i;
        const img = document.createElement('img');
        img.src = url;
        img.alt = '';
        img.loading = 'eager';
        if(img.decode) img.decode().catch(()=>{});
        wrapper.appendChild(img);
        return wrapper;
      }

      function renderTechBadgesFromData(techString){
        lbTech.innerHTML = '';
        if(!techString) return;
        const techs = techString.split(',').map(s=>s.trim()).filter(Boolean);
        techs.forEach(t => {
          const badge = document.createElement('div'); badge.className = 'tech-badge';
          const span = document.createElement('span'); span.textContent = t; badge.appendChild(span);
          lbTech.appendChild(badge);
        });
      }

      function showLbSlide(i, instant){
        if(!lbSlidesArr.length) return;
        if(i < 0) i = lbSlidesArr.length - 1;
        if(i >= lbSlidesArr.length) i = 0;
        lbCurrent = i;
        const offset = - (100 * lbCurrent);
        if(lbTrack){
          if(instant) {
            lbTrack.style.transition = 'none';
            lbTrack.style.transform = `translateX(${offset}%)`;
            void lbTrack.offsetWidth;
            lbTrack.style.transition = '';
          } else {
            lbTrack.style.transform = `translateX(${offset}%)`;
          }
        }
      }
      function lbNextFn(){ showLbSlide(lbCurrent + 1); }
      function lbPrevFn(){ showLbSlide(lbCurrent - 1); }

      function openAt(index){
        const item = items[index]; if(!item) return;
        lastFocused = document.activeElement;

        // <-- NEW: prefer data-lightbox; fallback to data-images
        const slidesRaw = item.dataset.lightbox || item.dataset.images || '';
        const slides = slidesRaw.split(',').map(s=>s.trim()).filter(Boolean);
        const slidesToUse = slides.length ? slides : ['assets/bg.jpg'];

        lbTitle.textContent = item.dataset.title || '';
        lbDesc.textContent = item.dataset.desc || '';
        lbLink.href = item.dataset.link || '#';

        renderTechBadgesFromData(item.dataset.tech || '');

        lbSlides.innerHTML = '';
        lbSlidesArr = [];

        // create track
        lbTrack = document.createElement('div');
        lbTrack.className = 'lb-track';
        slidesToUse.forEach((s, idx) => {
          const el = createSlide(s, idx);
          lbTrack.appendChild(el);
          lbSlidesArr.push(el);
        });
        lbSlides.appendChild(lbTrack);

        // go to first slide instantly to avoid flicker
        showLbSlide(0, true);

        lightbox.classList.add('open'); lightbox.setAttribute('aria-hidden','false'); document.body.style.overflow = 'hidden';
        if(lbClose && typeof lbClose.focus === 'function') lbClose.focus();
      }

      function closeLB(){
        lightbox.classList.remove('open'); lightbox.setAttribute('aria-hidden','true'); document.body.style.overflow = '';
        lbSlides.innerHTML = ''; lbSlidesArr = []; lbTrack = null;
        if(lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
      }

      // attach open handlers
      items.forEach((it, idx) => {
        it.addEventListener('click', (ev) => { ev.preventDefault(); openAt(idx); });
        it.addEventListener('keydown', (ev) => { if(ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); openAt(idx); }} );
      });

      if(lbClose) lbClose.addEventListener('click', closeLB);
      if(lbPrev) lbPrev.addEventListener('click', () => { lbPrevFn(); });
      if(lbNext) lbNext.addEventListener('click', () => { lbNextFn(); });

      // click outside content closes (lightbox background)
      lightbox.addEventListener('click', (e) => { if(e.target === lightbox) closeLB(); });

      document.addEventListener('keydown', (e) => {
        if(lightbox.classList.contains('open')){
          if(e.key === 'Escape') closeLB();
          if(e.key === 'ArrowRight') { lbNextFn(); }
          if(e.key === 'ArrowLeft') { lbPrevFn(); }
        }
      });

      // ------------ SEARCH / FILTER: efficient + highlight ------------
      function escapeRegExp(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      }

      function highlightText(node, tokens){
        let txt = node.textContent || '';
        if(!tokens.length){ node.innerHTML = txt; return; }
        const parts = tokens.map(t => escapeRegExp(t));
        const re = new RegExp('(' + parts.join('|') + ')', 'ig');
        node.innerHTML = txt.replace(re, (m) => `<span class="hl">${m}</span>`);
      }

      function updateResultCount(){
        const total = items.length;
        const visible = items.filter(it => it.style.display !== 'none').length;
        if(resultCount) resultCount.textContent = ` ${visible} of ${total}`;
      }

      function resetHighlights(){
        items.forEach(it => {
          const capTitle = it.querySelector('.folio-caption .title');
          if(capTitle) capTitle.innerHTML = capTitle.textContent || '';
        });
      }

      function resetFilterRespectExpanded(){
        if(grid.classList.contains('expanded')){
          items.forEach(it => it.style.display = 'block');
        } else {
          items.forEach((it, idx) => it.style.display = (idx < 6 ? 'block' : 'none'));
        }
        noResults.style.display = 'none';
        showMoreBtn.style.display = items.length > 6 ? 'inline-block' : 'none';
        resetHighlights();
        updateResultCount();
      }

      function applySearch(q){
        q = q.trim().toLowerCase();
        if(!q){
          resetFilterRespectExpanded();
          return;
        }
        showMoreBtn.style.display = 'none';
        let any = false;
        const tokens = q.split(/\s+/).filter(Boolean);
        items.forEach(it => {
          const title = (it.dataset.title || '').toLowerCase();
          const desc = (it.dataset.desc || '').toLowerCase();
          const tech = (it.dataset.tech || '').toLowerCase();
          const match = tokens.every(tok => title.includes(tok) || desc.includes(tok) || tech.includes(tok));
          it.style.display = match ? 'block' : 'none';
          if(match) {
            any = true;
            const capTitle = it.querySelector('.folio-caption .title');
            if(capTitle) highlightText(capTitle, tokens);
          } else {
            const capTitle = it.querySelector('.folio-caption .title');
            if(capTitle) capTitle.innerHTML = capTitle.textContent || '';
          }
        });
        noResults.style.display = any ? 'none' : 'block';
        updateResultCount();
      }

      let searchTO = null;
      if(searchInput){
        searchInput.addEventListener('input', (e) => {
          clearTimeout(searchTO);
          searchTO = setTimeout(() => {
            applySearch(searchInput.value || '');
          }, 140);
        });
        searchInput.addEventListener('keydown', (e) => {
          if(e.key === 'Escape'){ searchInput.value = ''; applySearch(''); }
        });
      }

      if(searchClear) {
        searchClear.addEventListener('click', () => {
          if(searchInput) searchInput.value = '';
          applySearch('');
          if(searchInput) searchInput.focus();
        });
      }

      // Show more toggle: expands to show all hidden items; collapse back to six
      showMoreBtn.addEventListener('click', () => {
        if(grid.classList.contains('expanded')){
          grid.classList.remove('expanded');
          resetFilterRespectExpanded();
          showMoreBtn.textContent = 'Show more';
        } else {
          grid.classList.add('expanded');
          items.forEach(it => it.style.display = 'block'); // show all
          showMoreBtn.textContent = 'Show less';
        }
        updateResultCount();
      });

      // initialize
      resetFilterRespectExpanded();

      // preload first image for each card to reduce flicker
      items.forEach(it => {
        const first = (it.dataset.images || '').split(',').map(s=>s.trim()).filter(Boolean)[0];
        if(first){ const img = new Image(); img.src = first; }
      });

      // ensure page visibility pause (stop global thumbTimer when hidden)
      document.addEventListener('visibilitychange', () => {
        if(document.hidden){
          if(thumbTimer){ clearInterval(thumbTimer); thumbTimer = null; }
        } else {
          if(!thumbTimer) thumbTimer = setInterval(thumbTick, THUMB_INTERVAL);
        }
      });

      // update initial result count
      updateResultCount();

    })();
  </script>
</section>
<!-- ===== end WORKS ===== -->








<section id="contact"><div style="max-width:var(--container);padding:60px 20px"><h2 style="font-family:Playfair Display;color:var(--text)">Contact</h2><p style="color:var(--muted-dark)">Contact form / details here.</p></div></section>





<!-- /section -->
</main>

<script>
document.addEventListener('DOMContentLoaded',()=>{
  const htmlEl=document.documentElement;
  const themeBtn=document.getElementById('themeBtn');
  const ctaContact=document.getElementById('ctaContact');
  const hamburger=document.getElementById('hamburger');
  const mobileMenu=document.getElementById('mobileMenu');
  const socialRow=document.querySelector('.social-row');
  const neonFrame=document.querySelector('.neon-frame');

  /* THEME */
  function setTheme(theme){
    htmlEl.setAttribute('data-theme',theme);
    localStorage.setItem('site-theme',theme);
    themeBtn.setAttribute('aria-pressed',String(theme==='light'));
  }
  const stored=localStorage.getItem('site-theme');
  if(stored==='light'||stored==='dark'){ setTheme(stored); }
  else { setTheme(window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches?'light':'dark'); }
  themeBtn.addEventListener('click',()=>{ setTheme(htmlEl.getAttribute('data-theme')==='light'?'dark':'light'); });

  /* SMOOTH SCROLL + NAV HIGHLIGHT */
  function smoothScrollToId(id){
    const el=document.getElementById(id); if(!el) return;
    el.scrollIntoView({behavior:'smooth',block:'start'});
    el.setAttribute('tabindex','-1'); el.focus({preventScroll:true});
  }
  if(ctaContact) ctaContact.addEventListener('click',e=>{e.preventDefault();smoothScrollToId('contact');});

  const navLinks=document.querySelectorAll('nav a');
  const sections=document.querySelectorAll('section');
  if('IntersectionObserver' in window){
    const obs=new IntersectionObserver(entries=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting && entry.intersectionRatio>0.5){
          navLinks.forEach(a=>a.classList.remove('active'));
          const link=document.querySelector(`nav a[data-target="${entry.target.id}"]`);
          if(link) link.classList.add('active');
        }
      });
    },{threshold:[0.5]});
    sections.forEach(s=>obs.observe(s));
  }
  navLinks.forEach(a=>{ a.addEventListener('click',e=>{ e.preventDefault(); smoothScrollToId(a.getAttribute('data-target')); }); });

  /* MOBILE NAV: open/close (also toggles hamburger -> X) */
  if(hamburger && mobileMenu){
    function toggleMobile(show){
      const willShow = (typeof show === 'boolean') ? show : !mobileMenu.classList.contains('show');
      if(willShow){
        mobileMenu.classList.add('show');
        mobileMenu.setAttribute('aria-hidden','false');
        hamburger.setAttribute('aria-expanded','true');
      } else {
        mobileMenu.classList.remove('show');
        mobileMenu.setAttribute('aria-hidden','true');
        hamburger.setAttribute('aria-expanded','false');
      }
    }
    hamburger.addEventListener('click',()=>toggleMobile());
    // close when a mobile link is clicked (and perform smooth scroll)
    document.querySelectorAll('#mobileMenu a').forEach(a=>{
      a.addEventListener('click',e=>{
        e.preventDefault();
        const target=a.getAttribute('data-target');
        toggleMobile(false);
        smoothScrollToId(target);
      });
    });

    // close on escape
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && mobileMenu.classList.contains('show')) toggleMobile(false);
    });

    // if viewport is resized to desktop while menu open, ensure it's closed
    window.addEventListener('resize', ()=>{
      if(window.innerWidth > 520 && mobileMenu.classList.contains('show')){
        toggleMobile(false);
      }
    });
  }

  // Also wire header mobile-link (if any visible)
  document.querySelectorAll('.mobile-link').forEach(a=>{
    a.addEventListener('click', e=>{
      e.preventDefault();
      smoothScrollToId(a.getAttribute('data-target'));
    });
  });

  /* RESPONSIVE: move social-row to sit just ABOVE the neon-frame on small screens (mobile),
     but NOT fixed in the viewport. On desktop it is restored back to its original place.
  */
  let placeholder = null;
  function updateSocialPlacement(){
    if(!socialRow || !neonFrame) return;

    if(window.innerWidth <= 520){
      // mobile: move socialRow just before neonFrame (so it appears above image),
      // and switch to flow-friendly class 'mobile-above'
      if(!socialRow.classList.contains('mobile-above')){
        placeholder = document.createComment('social-placeholder');
        socialRow.parentNode.insertBefore(placeholder, socialRow);
        // insert socialRow before neonFrame element (so it's above the image)
        neonFrame.parentNode.insertBefore(socialRow, neonFrame);
        socialRow.classList.remove('fixed-mobile');
        socialRow.classList.add('mobile-above');
      }
    } else {
      // desktop: restore socialRow to original location (where placeholder is)
      if(placeholder && socialRow.classList.contains('mobile-above')){
        try {
          placeholder.parentNode.insertBefore(socialRow, placeholder);
          placeholder.remove();
        } catch (e) {
          // fallback: if placeholder missing or parent removed, do nothing
        } finally {
          placeholder = null;
          socialRow.classList.remove('mobile-above','fixed-mobile');
        }
      }
    }
  }

  // initial placement and on resize/orientationchange
  updateSocialPlacement();
  window.addEventListener('resize', updateSocialPlacement);
  window.addEventListener('orientationchange', updateSocialPlacement);

  /* small enhancement: if mobile menu opens, ensure social icons remain visible and not obstructing (you can tweak if desired) */
  // (No-op for now — kept for future tweaks)
});
</script>
</body>
</html>
